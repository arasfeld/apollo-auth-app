import React from 'react'
import Link from 'next/link'
import { useAuth } from '../context/auth-context'
import { ThemeToggle } from './theme-toggle'

interface NavLink {
  href: string
  text: string
}

const authenticatedLinks: NavLink[] = [
  { href: '/logout', text: 'Logout' }
]
const unauthenticatedLinks: NavLink[] = [
  { href: '/login', text: 'Log In' },
  { href: '/signup', text: 'Sign Up' }
]

export const Header: React.FC = () => {
  const { user } = useAuth()
  const links = user ? authenticatedLinks : unauthenticatedLinks

  return (
    <header className="text-gray-600 body-font">
      <div className="container mx-auto flex flex-wrap p-5 flex-col md:flex-row items-center">
        <a className="flex title-font font-medium items-center text-gray-900 mb-4 md:mb-0">
          <svg xmlns="http://www.w3.org/2000/svg" className="w-16 h-16 p-2" viewBox="0 0 24 24">
            <path d="M23.980285 11.960255C23.980285 10.359085 21.995918 8.841669 18.95355 7.900673C19.655634 4.7673064 19.343597 2.2744079 17.968679 1.4762862C17.651766 1.2890725 17.281221 1.2003924 16.876548 1.2003924C16.876548 1.2003924 16.876548 2.2990413 16.876548 2.2990413C17.100825 2.2990413 17.281221 2.3433813 17.432366 2.4271349C18.095445 2.8114156 18.383105 4.2746385 18.158828 6.1566295C18.105188 6.6197371 18.017436 7.1074782 17.910173 7.6050724C16.954556 7.3685921 15.91118 7.1863048 14.814172 7.0680646C14.155967 6.1566295 13.473385 5.3289478 12.785924 4.6047261C14.375369 3.1119429 15.8673 2.2941146 16.881423 2.2941146C16.881423 2.2941146 16.881423 1.1954657 16.881423 1.1954657C16.881423 1.1954657 16.881423 1.1954657 16.881423 1.1954657C15.540635 1.1954657 13.785422 2.1610943 12.010706 3.8361644C10.235992 2.1709476 8.4807784 1.2151724 7.1399906 1.2151724C7.1399906 1.2151724 7.1399906 2.3138213 7.1399906 2.3138213C8.1492382 2.3138213 9.6460447 3.126723 11.235488 4.6096527C10.552905 5.3338743 9.8703217 6.1566295 9.2218683 7.0680646C8.1199844 7.1863048 7.0766076 7.3685921 6.1209918 7.609999C6.008853 7.1173314 5.925968 6.6394436 5.8674611 6.181263C5.638308 4.299272 5.9210925 2.836049 6.5792975 2.4468416C6.725565 2.3581613 6.9157132 2.318748 7.1399906 2.318748C7.1399906 2.318748 7.1399906 1.220099 7.1399906 1.220099C7.1399906 1.220099 7.1399906 1.220099 7.1399906 1.220099C6.7304407 1.220099 6.3598957 1.308779 6.0381068 1.495993C4.6680654 2.2941146 4.3609029 4.7820866 5.067864 7.9055996C2.0352459 8.851522 0.06063111 10.364012 0.06063111 11.960255C0.06063111 13.561425 2.044997 15.078841 5.0873662 16.019836C4.385281 19.153203 4.697319 21.646101 6.0722361 22.444222C6.3891493 22.631437 6.7596943 22.720117 7.1692438 22.720117C8.5100319 22.720117 10.265245 21.754488 12.03996 20.079418C13.814676 21.744634 15.569888 22.700411 16.910677 22.700411C17.320225 22.700411 17.690771 22.611721 18.01256 22.424516C19.382601 21.626395 19.689763 19.138424 18.982802 16.014911C22.005669 15.073914 23.980285 13.556498 23.980285 11.960255C23.980285 11.960255 23.980285 11.960255 23.980285 11.960255M17.632264 8.674161C17.451868 9.309703 17.227589 9.964951 16.974059 10.620199C16.77416 10.226065 16.564508 9.83193 16.335357 9.437796C16.111079 9.043662 15.872175 8.659382 15.633272 8.2849541C16.325605 8.3884139 16.99356 8.516508 17.632264 8.674161C17.632264 8.674161 17.632264 8.674161 17.632264 8.674161M15.399244 13.921071C15.018946 14.586173 14.628899 15.216788 14.224224 15.803062C13.497761 15.867112 12.761547 15.901592 12.020457 15.901592C11.284243 15.901592 10.548029 15.867112 9.8264416 15.807992C9.4217673 15.221714 9.0268446 14.596027 8.6465483 13.935852C8.2760033 13.290458 7.9395876 12.63521 7.6324252 11.975035C7.9347119 11.31486 8.2760033 10.654685 8.6416727 10.009291C9.0219689 9.344189 9.4120164 8.713575 9.8166903 8.1273002C10.543154 8.0632522 11.279369 8.0287662 12.020457 8.0287662C12.756673 8.0287662 13.492886 8.0632532 14.214474 8.1223722C14.619147 8.708647 15.014071 9.334335 15.394367 9.994509C15.764912 10.639904 16.101328 11.295152 16.408491 11.955326C16.101328 12.615501 15.764912 13.275676 15.399244 13.921071C15.399244 13.921071 15.399244 13.921071 15.399244 13.921071M16.974059 13.280604C17.23734 13.940779 17.461617 14.600953 17.646891 15.241421C17.008188 15.399075 16.335357 15.532095 15.638147 15.635556C15.877051 15.256202 16.115954 14.866994 16.340231 14.467933C16.564508 14.0738 16.77416 13.674737 16.974059 13.280604C16.974059 13.280604 16.974059 13.280604 16.974059 13.280604M12.030209 18.537367C11.576779 18.064407 11.123348 17.537253 10.674794 16.960832C11.113597 16.980532 11.562152 16.995322 12.015582 16.995322C12.473888 16.995322 12.927318 16.985522 13.370997 16.960832C12.932193 17.537253 12.478763 18.064407 12.030209 18.537367C12.030209 18.537367 12.030209 18.537367 12.030209 18.537367M8.4027689 15.635556C7.7104345 15.532095 7.0424787 15.404002 6.4037761 15.246348C6.5841731 14.610806 6.8084501 13.955558 7.0619811 13.300311C7.2618801 13.694445 7.4715307 14.088579 7.7006837 14.482712C7.9298364 14.876846 8.1638646 15.261128 8.4027689 15.635556C8.4027689 15.635556 8.4027689 15.635556 8.4027689 15.635556M12.005831 5.3831412C12.459261 5.8561022 12.91269 6.3832568 13.361245 6.959678C12.922442 6.939974 12.473888 6.925191 12.020457 6.925191C11.562152 6.925191 11.108722 6.935051 10.665043 6.959678C11.103846 6.3832568 11.557277 5.8561022 12.005831 5.3831412C12.005831 5.3831412 12.005831 5.3831412 12.005831 5.3831412M8.3978932 8.2849541C8.1589891 8.664308 7.9200851 9.053515 7.6958081 9.452576C7.4715307 9.846711 7.2618801 10.240844 7.0619811 10.634979C6.7986989 9.974804 6.5744218 9.314629 6.3891493 8.674161C7.0278519 8.521434 7.7006837 8.3884139 8.3978932 8.2849541C8.3978932 8.2849541 8.3978932 8.2849541 8.3978932 8.2849541M3.9854827 14.453154C2.2595229 13.709225 1.1430125 12.733742 1.1430125 11.960255C1.1430125 11.186766 2.2595229 10.206358 3.9854827 9.467356C4.4047835 9.285069 4.8630892 9.122489 5.3360216 8.969762C5.6139304 9.935391 5.9795998 10.940432 6.4330298 11.970108C5.9844754 12.994857 5.6236816 13.994971 5.3506485 14.955674C4.8679648 14.802946 4.4096591 14.63544 3.9854827 14.453154C3.9854827 14.453154 3.9854827 14.453154 3.9854827 14.453154M6.6085512 21.493375C5.9454706 21.109093 5.6578105 19.64587 5.8820879 17.763879C5.9357189 17.300772 6.02348 16.813031 6.1307431 16.315437C7.0863588 16.551917 8.1297356 16.734205 9.2267439 16.852445C9.8849486 17.763879 10.567532 18.591561 11.254989 19.315783C9.6655471 20.808567 8.1736158 21.626395 7.1594927 21.626395C6.9400912 21.621395 6.7548187 21.577135 6.6085512 21.493375C6.6085512 21.493375 6.6085512 21.493375 6.6085512 21.493375M18.173454 17.739246C18.402608 19.621236 18.119814 21.08446 17.461617 21.473667C17.31535 21.562347 17.125203 21.601761 16.900925 21.601761C15.891677 21.601761 14.39487 20.78886 12.805427 19.30593C13.48801 18.581708 14.170593 17.758954 14.819046 16.847518C15.920932 16.729278 16.964309 16.54699 17.919924 16.305583C18.032062 16.803178 18.119823 17.281066 18.173454 17.739246C18.173454 17.739246 18.173454 17.739246 18.173454 17.739246M20.050558 14.453154C19.631256 14.63544 19.17295 14.79802 18.700018 14.950747C18.42211 13.985119 18.05644 12.980077 17.60301 11.950402C18.051565 10.925652 18.412358 9.925537 18.685391 8.964835C19.168075 9.117562 19.626381 9.285069 20.055433 9.467356C21.781392 10.211284 22.897902 11.186766 22.897902 11.960255C22.893102 12.733742 21.776517 13.714151 20.050558 14.453154C20.050558 14.453154 20.050558 14.453154 20.050558 14.453154" fill="#61dafb" />
            <circle cx="12.015585" cy="11.960254" r="2.2477832" fill="#61dafb" />
          </svg>
          <span className="ml-3 text-xl">Apollo Auth App</span>
        </a>
        <nav className="md:ml-auto flex items-center text-base justify-center">
          <ul className="flex flex-wrap items-center justify-center">
            {links.map(link => (
              <li key={`nav-item-${link.text}`} className="mr-5 hover:text-gray-900">
                <Link href={link.href}>
                  <a>{link.text}</a>
                </Link>
              </li>
            ))}
          </ul>
        </nav>
        <ThemeToggle />
        {user && (
          <div className="w-10 h-10 text-white p-2 bg-indigo-500 rounded-full">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
              <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"></path>
            </svg>
          </div>
        )}
      </div>
    </header>
  )
}
